<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>roBERTa</title>
	<link rel="stylesheet" href= "{{ url_for('static',filename='styles.css') }}" />
	<script type="text/javascript">
		let answer = '{{ answer }}'
		let parsed
		if(answer) {
			parsed = JSON.parse(answer.replace(/&#39;/g, "\""))
			console.log(parsed)
		}

		function writeAnswer(){
			if(parsed) document.getElementById("answerText").innerHTML = parsed['answer']
		}
	</script>
</head>

<body onload="writeAnswer()">
	<div class="content">
		<form id="model-form" action="{{ url_for('predict') }}" method="post">
			<h1>Ask Optimus Prime a question!</h1>
			<div>
				<label for="context">Context:</label>
				<textarea id="context" name="context" rows="4"></textarea>
			</div>
			<div>
				<label for="question">Question:</label>
				<input type="text" id="question" name="question"><br><br>
			</div>
			<div>
				<input type="submit" value="Submit">
			</div>
			<div class="answer-div">
				<label for="answer">Answer:</label>
				<h3 id="answerText"></h3>
			</div>
		</form>
	</div>
</body>

</html>